<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta http-equiv="X-UA-Compatible" content="ie=edge" />
    <title>AVR8js - Simon Game Demo</title>
    <link href="//fonts.googleapis.com/css?family=Roboto&display=swap" rel="stylesheet" />
    <style>
      body {
        padding: 16px;
        font-family: 'Roboto', sans-serif;
      }
      .app-container {
        max-width: 1200px;
        margin: 0 auto;
      }
      .simulator-area {
        display: flex;
        gap: 20px;
        margin-bottom: 20px;
      }
      .components-panel {
        flex: 1;
        border: 2px solid #ddd;
        border-radius: 8px;
        padding: 20px;
        background: #f9f9f9;
      }
      .components-panel h3 {
        margin-top: 0;
      }
      .leds-container {
        display: grid;
        grid-template-columns: repeat(2, 1fr);
        gap: 20px;
        margin-bottom: 20px;
      }
      .buttons-container {
        display: grid;
        grid-template-columns: repeat(2, 1fr);
        gap: 20px;
        margin-bottom: 20px;
      }
      .display-container {
        display: flex;
        gap: 10px;
        justify-content: center;
        margin-bottom: 20px;
      }
      .toolbar {
        padding: 8px;
        display: flex;
        background-color: #ddd;
        border-radius: 4px;
        margin-bottom: 10px;
      }
      .toolbar > button {
        margin-right: 8px;
        padding: 8px 16px;
        cursor: pointer;
      }
      .spacer {
        flex: 1;
      }
      .code-editor {
        width: 100%;
        height: 400px;
        border: 1px solid grey;
        border-radius: 4px;
      }
      .compiler-output {
        width: 100%;
        padding: 8px 12px;
        max-height: 200px;
        overflow: auto;
        background: #f5f5f5;
        border-radius: 4px;
        margin-top: 10px;
      }
      .compiler-output pre {
        margin: 0;
        white-space: pre-line;
        font-family: 'Courier New', monospace;
      }
      #serial-output-text {
        color: blue;
      }
    </style>
  </head>
  <body>
    <h1>AVR8js - Simon Game with Score Display</h1>
    <div class="app-container">
      <div class="toolbar">
        <button id="run-button">Run</button>
        <button id="stop-button" disabled>Stop</button>
        <button id="load-simon-button">Load Simon Game Code</button>
        <div class="spacer"></div>
        <div id="status-label"></div>
      </div>
      
      <div class="simulator-area">
        <div class="components-panel">
          <h3>Game Components</h3>
          
          <div class="leds-container">
            <wokwi-led color="red" label="Red (Pin 12)" id="led-red"></wokwi-led>
            <wokwi-led color="green" label="Green (Pin 11)" id="led-green"></wokwi-led>
            <wokwi-led color="blue" label="Blue (Pin 10)" id="led-blue"></wokwi-led>
            <wokwi-led color="yellow" label="Yellow (Pin 9)" id="led-yellow"></wokwi-led>
          </div>
          
          <div class="buttons-container">
            <wokwi-pushbutton color="red" label="Red (Pin 5)" id="btn-red"></wokwi-pushbutton>
            <wokwi-pushbutton color="green" label="Green (Pin 4)" id="btn-green"></wokwi-pushbutton>
            <wokwi-pushbutton color="blue" label="Blue (Pin 3)" id="btn-blue"></wokwi-pushbutton>
            <wokwi-pushbutton color="yellow" label="Yellow (Pin 2)" id="btn-yellow"></wokwi-pushbutton>
          </div>
          
          <div style="text-align: center; margin: 20px 0;">
            <wokwi-buzzer id="buzzer" label="Buzzer (Pin 8)"></wokwi-buzzer>
          </div>
          
          <div class="display-container">
            <wokwi-7segment id="display-tens" label="Tens"></wokwi-7segment>
            <wokwi-7segment id="display-ones" label="Ones"></wokwi-7segment>
          </div>
        </div>
      </div>
      
      <div class="code-editor"></div>
      
      <div class="compiler-output">
        <pre id="compiler-output-text"></pre>
        <pre id="serial-output-text"></pre>
      </div>
    </div>
    <script src="//cdnjs.cloudflare.com/ajax/libs/monaco-editor/0.33.0/min/vs/loader.js"></script>
    <script type="module" src="./src/simon.ts"></script>
  </body>
</html>


